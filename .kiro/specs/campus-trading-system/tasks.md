# 校园二手交易系统开发任务计划

## 第一阶段：项目基础架构搭建

- [x] 1. 配置项目基础环境和依赖





  - 配置Spring Boot项目的pom.xml依赖（Spring Security、JPA、Redis、JWT等）
  - 创建application.yml配置文件，配置数据库连接、Redis连接等
  - 创建项目基础包结构（controller、service、repository、entity等）
  - _需求: 1.1, 1.2_

- [x] 2. 创建数据库表结构和基础实体类



  - 编写SQL脚本创建users、categories、products、orders、messages表
  - 创建对应的JPA实体类（User、Category、Product、Order、Message）
  - 配置实体类之间的关联关系和验证注解
  - _需求: 1.1, 2.1, 3.1, 4.1, 5.1_

- [x] 3. 实现JWT认证和安全配置





  - 创建JWT工具类，实现token生成和验证
  - 配置Spring Security，设置JWT过滤器
  - 实现用户认证和授权机制
  - 创建安全配置类，定义接口访问权限
  - _需求: 1.4, 1.5_

## 第二阶段：用户认证模块开发

- [x] 4. 实现用户注册功能





  - 创建UserService和UserRepository
  - 实现用户注册逻辑，包括学号验证和密码加密
  - 创建注册相关的DTO类和验证规则
  - 编写用户注册的单元测试
  - _需求: 1.1, 1.2, 1.3_

- [x] 5. 实现用户登录功能





  - 创建AuthController，实现登录接口
  - 实现登录验证逻辑，生成JWT token
  - 处理登录失败的各种情况和错误提示
  - 不需要你帮我运行,用户自己在idea中测试
  - _需求: 1.4, 1.5_

- [x] 6. 实现用户信息管理功能





  - 创建获取用户信息的接口
  - 实现用户信息更新功能（除学号外）
  - 添加用户信息验证和权限控制
  - 不要编写用户信息管理的测试用例,用户自己启动系统,只需要告诉用户在apifox中怎么测试接口就可以
  - _需求: 6.1, 6.2_

## 第三阶段：商品管理模块开发

- [x] 7. 实现商品分类管理
  - 创建CategoryService和CategoryRepository
  - 实现分类的增删改查功能
  - 创建分类相关的API接口
  - 初始化基础商品分类数据
 
  - _需求: 3.2, 3.4_

- [x] 8. 实现商品发布功能
  - 创建ProductService和ProductRepository
  - 实现商品发布逻辑，包括数据验证和图片处理
  - 创建商品发布的API接口和DTO
  - 编写商品发布功能的测试用例
  - _需求: 2.1, 2.2, 2.3, 2.4_

- [x] 9. 实现商品查询和搜索功能
  - 实现商品列表查询，支持分页和排序
  - 实现商品搜索功能，支持关键词和分类筛选
  - 实现价格区间筛选功能
  - 添加商品浏览次数统计
  - _需求: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 10. 实现商品详情和管理功能
  - 创建商品详情查询接口
  - 实现商品编辑和删除功能（软删除）
  - 实现"我发布的商品"查询功能
  - 添加商品状态管理逻辑
   - 尽可能要详细,用户可以高度自由的自定义上传商品(商品详情字段可以多一点)
  - _需求: 2.5, 2.6, 3.5, 6.3_

## 第四阶段：交易和消息模块开发

- [x] 11. 实现订单管理功能
  - 创建OrderService和OrderRepository
  - 实现订单创建逻辑，生成唯一订单号
  - 实现订单状态管理和更新功能
  - 创建订单相关的API接口
  - _需求: 5.1, 5.2, 5.3, 5.4, 5.5_

- [x] 12. 实现用户消息功能
  - 创建MessageService和MessageRepository
  - 实现消息发送和接收功能
  - 实现消息列表查询和对话管理
  - 添加消息已读状态管理
  - _需求: 4.1, 4.2, 4.3, 4.4, 4.5_

- [x] 13. 实现交易流程管理
  - 实现买卖双方交易确认功能
  - 添加交易完成后的商品状态更新
  - 实现交易历史记录查询
  - 创建交易相关的业务逻辑测试
  - _需求: 5.4, 5.5, 5.6, 6.4, 6.5_

## 第五阶段：系统管理和优化

- [x] 14. 实现管理后台功能
  - 创建AdminController和相关服务
  - 实现用户管理功能（查询、禁用等）
  - 实现商品管理功能（审核、下架等）
  - 添加系统数据统计功能
  - _需求: 7.1, 7.2, 7.3, 7.4, 7.5_

- [x] 15. 添加Redis缓存优化
  - 配置Redis连接和缓存管理
  - 为热门商品列表添加缓存
  - 为用户信息和分类信息添加缓存
  - 实现缓存更新和失效机制
  - _性能需求优化_

- [x] 16. 实现全局异常处理和日志
  - 创建全局异常处理器
  - 定义统一的API响应格式
  - 添加系统日志记录
  - 实现参数验证和错误提示
  - _安全需求和可用性需求_

## 第六阶段：前端开发

- [ ] 17. 创建Vue3项目基础架构
  - 初始化Vue3项目，配置Vite构建工具
  - 安装和配置Vue Router、Pinia、Axios、Element Plus
  - 创建项目目录结构和基础组件
  - 配置API请求拦截器和错误处理
  - _需求: 1.1, 1.4_

- [ ] 18. 实现用户认证相关页面
  - 创建登录页面组件，实现登录表单和验证
  - 创建注册页面组件，实现注册表单和学号验证
  - 实现用户状态管理和路由守卫
  - 创建用户个人中心页面
  - _需求: 1.1, 1.2, 1.3, 1.4, 1.5, 6.1, 6.2_

- [ ] 19. 实现商品相关页面
  - 创建商品列表页面，实现分页和筛选功能
  - 创建商品详情页面，展示完整商品信息
  - 创建商品发布页面，实现表单提交和图片上传
  - 创建"我的商品"管理页面
  - _需求: 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 3.1, 3.2, 3.3, 3.4, 3.5, 6.3_

- [ ] 20. 实现交易和消息相关页面
  - 创建消息中心页面，显示对话列表和聊天界面
  - 实现实时消息功能（轮询或WebSocket）
  - 创建订单管理页面，显示买入和卖出记录
  - 实现交易确认和状态更新功能
  - _需求: 4.1, 4.2, 4.3, 4.4, 4.5, 5.1, 5.2, 5.3, 5.4, 5.5, 5.6, 6.4, 6.5_

## 第七阶段：系统集成和测试

- [x] 21. 实现文件上传功能
  - 创建文件上传服务，支持图片上传
  - 实现图片压缩和格式验证
  - 配置文件存储路径和访问URL
  - 添加文件上传的安全验证
  - _需求: 2.3, 安全需求_

- [x] 22. 编写集成测试
  - 创建用户认证模块集成测试
  - 创建商品管理模块集成测试
  - 创建订单管理模块集成测试
  - 创建文件上传模块集成测试
  - 配置测试环境和测试数据
  - _质量保证需求_

- [ ] 23. 性能优化和部署准备
  - 优化数据库查询性能，添加必要索引
  - 实现前端资源优化（懒加载、压缩等）
  - 配置生产环境的配置文件
  - 编写部署文档和启动脚本
  - _性能需求_

- [ ] 24. 系统联调和bug修复
  - 进行前后端联调测试
  - 修复发现的bug和问题
  - 优化用户体验和界面交互
  - 完善系统文档和使用说明
  - _可用性需求_

## 开发注意事项

### 代码规范
- 遵循Java和JavaScript编码规范
- 使用统一的命名约定和注释规范
- 每个功能模块都要编写对应的测试用例

### 安全考虑
- 所有用户输入都要进行验证和过滤
- 敏感信息要进行加密存储
- API接口要有适当的权限控制

### 性能优化
- 合理使用数据库索引
- 适当使用缓存减少数据库压力
- 前端实现懒加载和分页加载

### 测试策略
- 每个Service方法都要有单元测试
- 重要的API接口要有集成测试
- 关键业务流程要有端到端测试